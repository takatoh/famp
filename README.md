# famp

時刻歴波形をフーリエ変換して、各成分の周期、周波数、2つの有限フーリエ係数、振幅、位相角を計算する CLI ツールです。

## Installation

​    $ go install github.com/takatoh/famp

## Usage

基本的な使い方は、`fmap`コマンドに時刻歴波形をCSV形式のファイルで与えるだけです。

​    $ famp example.csv

次数 `k` 、周期 `T` 、周波数 `f` 、２つの有限フーリエ係数 `A`  と `B` 、振幅 `AMP.` 、位相角 `PHASE` を出力します。

```
$ ./famp example.csv
    k        T       f       A       B    AMP.   PHASE

    0    0.000   0.000   0.064   0.000   1.721  -0.000
    1   81.920   0.012   0.147   0.044   4.121  -0.289
    2   40.960   0.024   0.135  -0.036   3.748   0.259
    3   27.307   0.037   0.087   0.008   2.336  -0.093
    4   20.480   0.049   0.162   0.031   4.419  -0.187
    5   16.384   0.061   0.274  -0.108   7.921   0.374
    6   13.653   0.073   0.454   0.270  14.191  -0.537
    7   11.703   0.085   0.031   0.628  16.910  -1.522
    8   10.240   0.098  -0.336   0.402  14.093  -2.267
    9    9.102   0.110  -0.724  -0.445  22.838   2.591
   10    8.192   0.122   0.562  -0.468  19.659   0.694
   （以下略）
```

計算に FFT を利用するので、データは必要に応じて 2 のべき乗個に拡張されます（時刻歴のうしろに `0` を付加します）。

`-csv-output` オプションを与えると、CSV 形式で出力します。

```
$ ./famp -csv-output ElCentro.csv
k,T,f,A,B,AMP.,PHASE
0,0.000000,0.000000,0.064014,0.000000,1.720688,-0.000000
1,81.920000,0.012207,0.146940,0.043723,4.120891,-0.289214
2,40.960000,0.024414,0.134806,-0.035673,3.748327,0.258697
3,27.306667,0.036621,0.086531,0.008100,2.336108,-0.093336
4,20.480000,0.048828,0.161547,0.030520,4.419184,-0.186720
5,16.384000,0.061035,0.274330,-0.107569,7.920617,0.373691
6,13.653333,0.073242,0.453659,0.270043,14.191262,-0.536923
7,11.702857,0.085449,0.030535,0.628334,16.909555,-1.522238
8,10.240000,0.097656,-0.336403,0.402141,14.093027,-2.267417
9,9.102222,0.109863,-0.723963,-0.444672,22.837804,2.590783
10,8.192000,0.122070,0.562182,-0.467779,19.658566,0.693997
（以下略）
```

`-phase` オプションで位相スペクトルを出力します。


```
$ ./famp -phase ElCentro.csv
   FREQ.   PHASE

   0.000  -0.000
   0.012  -0.289
   0.024   0.259
   0.037  -0.093
   0.049  -0.187
   0.061   0.374
   0.073  -0.537
   0.085  -1.522
   0.098  -2.267
   0.110   2.591
（以下略）
```

`-csv-output` オプションを併用することで、CSV形式で出力します。

## License

MIT License
